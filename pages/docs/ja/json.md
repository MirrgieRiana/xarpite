---
title: "JSON操作"
---

<!-- toc -->

# JSON操作

## JSON文字列と値との変換関数

JSON文字列と値との間で変換を行う関数がいくつか用意されています

- `JSON`
- `JSOND`
- `JSONS`
- `JSONSD`

詳細は[data-conversion.md](data-conversion.md)を参照してください。

## 演算子による変換

### 値をJSON文字列に変換

`$&value`

前置 `$&` 演算子は、値をJSON形式の文字列に変換します。

細かい仕様は `JSON` 関数と同一です。

```shell
$ xa '$&{a: 1; b: 2}'
# {
#   "a": 1,
#   "b": 2
# }
```

配列やオブジェクトを指定した場合、内部の要素も再帰的に JSON 化されます。

### JSON文字列を値に変換

`$*string`

前置 `$*` 演算子は、与えられた文字列をJSON文字列として解析し、対応する値に変換します。

細かい仕様は `JSOND` 関数と同一です。

```shell
$ xa '$*(%> {"a": 1, "b": 2} <%)'
# {a:1;b:2}
```
